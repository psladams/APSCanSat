input.onButtonPressed(Button.B, function () {
    recording = false

})

input.onButtonPressed(Button.A, function () {
    recording = true
    while (recording) {
        acceleration = input.acceleration(Dimension.Strength)
        accel_data.push(acceleration)
        control.waitMicros(100)
        basic.showNumber(acceleration)
        serial.writeNumber(acceleration)
    }
})


function integrate(f: number[], a: number, b: number) {
    let n = f.length
    let h = (b - a) / n
    let integral = 0
    for (let i = 0; i < n + 1; i++) {
        integral += f[a + i * h]
    }
    integral += (f[a] + f[b]) / 2
    integral *= h
    return integral
}


let acceleration = 0
let recording = false
let accel_data: number[] = []
accel_data = []
input.setAccelerometerRange(AcceleratorRange.EightG)
